function Base64(){_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.encode=function(r){var t="";var i,m,o,l,n,p,q;var s=0;r=_utf8_encode(r);while(s<r.length){i=r.charCodeAt(s++);m=r.charCodeAt(s++);o=r.charCodeAt(s++);l=i>>2;n=((i&3)<<4)|(m>>4);p=((m&15)<<2)|(o>>6);q=o&63;if(isNaN(m)){p=q=64}else{if(isNaN(o)){q=64}}t=t+_keyStr.charAt(l)+_keyStr.charAt(n)+_keyStr.charAt(p)+_keyStr.charAt(q)}t=t.replace(/\+/g,"_").replace(/\//g,"`").replace(/=/g,",");return t};this.decode=function(r){r=r.replace(/\_/g,"+").replace(/\`/g,"/").replace(/,/g,"=");var t="";var i,m,o;var l,n,p,q;var s=0;r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(s<r.length){l=_keyStr.indexOf(r.charAt(s++));n=_keyStr.indexOf(r.charAt(s++));p=_keyStr.indexOf(r.charAt(s++));q=_keyStr.indexOf(r.charAt(s++));i=(l<<2)|(n>>4);m=((n&15)<<4)|(p>>2);o=((p&3)<<6)|q;t=t+String.fromCharCode(i);if(p!=64){t=t+String.fromCharCode(m)}if(q!=64){t=t+String.fromCharCode(o)}}t=_utf8_decode(t);return t};_utf8_encode=function(c){c=c.replace(/\r\n/g,"\n");var f="";for(var g=0;g<c.length;g++){var h=c.charCodeAt(g);if(h<128){f+=String.fromCharCode(h)}else{if((h>127)&&(h<2048)){f+=String.fromCharCode((h>>6)|192);f+=String.fromCharCode((h&63)|128)}else{f+=String.fromCharCode((h>>12)|224);f+=String.fromCharCode(((h>>6)&63)|128);f+=String.fromCharCode((h&63)|128)}}}return f};_utf8_decode=function(f){var c="";var h=0;var g=c1=c2=0;while(h<f.length){g=f.charCodeAt(h);if(g<128){c+=String.fromCharCode(g);h++}else{if((g>191)&&(g<224)){c2=f.charCodeAt(h+1);c+=String.fromCharCode(((g&31)<<6)|(c2&63));h+=2}else{c2=f.charCodeAt(h+1);c3=f.charCodeAt(h+2);c+=String.fromCharCode(((g&15)<<12)|((c2&63)<<6)|(c3&63));h+=3}}}return c};this.createHiddenInput=function(i,f,h){if(i.getElementById(f)){var j=i.getElementById(f);if(h!=null&&h.length>0){for(var g=0;g<h.length;g++){input=i.createElement("INPUT");input.type="HIDDEN";input.id="base64_"+h[g];input.name="base64_"+h[g];input.value=this.encode(i.getElementById(h[g]).value);input.value=input.value.replace(/\+/g,"_").replace(/\//g,"`").replace(/=/g,",");if(!i.getElementById(input.name)){j.appendChild(input)}else{i.getElementById(input.name).value=input.value}}}}else{alert("创建元素失败!");return}}}var Base64Util={encode:function(c){var d=new Base64();return d.encode(c)},decode:function(d){var c=new Base64();return c.decode(d)}};